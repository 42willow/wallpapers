---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";

interface Props {
  images: Record<string, () => Promise<{ default: ImageMetadata }>>;
  imagePath: string;
  name: string;
  author: string;
}

const { images, imagePath, name, author } = Astro.props;
if (!images[imagePath])
  throw new Error(`"${imagePath}" does not exist in glob`);
---

<div class="card">
  <h2>{name}</h2>
  <p>Author: {author}</p>
  <Image src={images[imagePath]()} alt={`${name} by ${author}`} width={400} />
</div>
